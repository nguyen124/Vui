@model List<Vui.Models.ApplicationUser>

@{
    ViewBag.Title = "View";
}

<h2>View</h2>


<h4>Manage Application User</h4>
<hr />
<table id="UserData" class="table table-hover">
    <thead>
        <tr>
            <th>#</th>
            <th>Id</th>
            <th>Email</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Avatar</th>
            <th>Active</th>
            <th>Role</th>
        </tr>
    </thead>
    <tbody>
        @{var count = 1;
        foreach (var item in Model)
        {
            string roles ="";
            foreach(string role in @item.RoleNames ){
                roles += role + ", ";
            }
            <tr class="UserDataRow">
                <td>
                    <a href="@Url.Action("ChangeInfo", "Manage", new
                        {
                            UserId = @item.Id,
                            Lastname = @item.Lastname,
                            Firstname = @item.Firstname,
                            Email = @item.Email,
                            Avatar = @item.Avatar,
                            LockoutEnable = @item.LockoutEnabled,
                            RoleNames = @roles,
                        })">@count</a>
                    </td>
                    <td>
                        @item.Id
                    </td>

                    <td>
                        @item.Email
                    </td>
                    <td>
                        @item.Lastname
                    </td>
                    <td>
                        @item.Firstname
                    </td>
                    <td>
                        <img class="img-responsive row-height-150" src="@item.Avatar" />
                    </td>
                    <td>
                        @item.LockoutEnabled
                    </td>
                    <td>
                        <div class="form-group">

                            @foreach (var role in @item.RoleNames)
                            {
                                <text>
                                    @role
                                </text>
                            }

                        </div>
                    </td>
                </tr>
        }
        count = count + 1;
        }
    </tbody>
</table>
